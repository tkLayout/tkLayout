// Example config file:
// This config file is case sensitive
// as a general rule all the objects are capitalized (Tracker, Endcap)
// all the parameter names start with smallcaps and capital letters mark the start
// of a new word (stripCost, innerRadius, ...)

// You can declare only one Tracker and as many Barrel and Endcap as you wish
// You must declare the TRACKER before all its components

// You can daclare only one Tracker
Tracker 3xPS_3x2S {
    nMB = 100;
    rError = 5;
    zError = 70;
    smallDelta = 3.022;
    bigDelta = 12;
    overlap = 1;
    etaCut = 2.55;
    ptCost = 200;      // CHF / cm^2
    stripCost = 40;    // CHF / cm^2
    chipPower[rphi] = 0.5;         // 0.5 mW for strips
    opticalPower[rphi] = 0.1;      // 0.1 mW = 5 GBT / 12 mod
    chipPower[stereo] = 0.5;       // 0.5 mW for strips
    opticalPower[stereo] = 0.1;    // 0.1 mW = 5 GBT / 12 mod
    chipPower[ptOut] = 0.3; // 0.3 mW per strip
    chipPowerFixed[ptOut] = 1000 ; // 400 mW from Concentrators and 600 mW from DC/DC converter
    opticalPowerFixed[ptOut] = 500; // 500 mW from the LP-GBT (1 per module)
    chipPower[ptIn] = 0.013194444;    // 0.013194444 mW to get to .1 mW / chan (=152 mW / chip)
    opticalPower[ptIn] = 0.086805555; // 0.086805555 mW = 1 GBT (=2W) / 2 sensor of 11520 channels
    chipPower[ptMixed] = 0.764;    // 0.764 mW per "strip" = 50% * 0.25 mW per strip + 50% * 1.279 mW per column 
    chipPowerFixed[ptMixed] = 640; // 240 mW from logic + 400 mW from DC/DC converter
    opticalPowerFixed[ptMixed] = 500; // 500 mW from LP-GBT 

    triggerErrorIncreaseX[ptOut] = 1; // tenfold (!) increase in error along rphi
    triggerErrorIncreaseY[ptOut] = 1; // no increase in error along y
    efficiency = 1;
    useIPConstraint = 1;
    inefficiencyType[ptMixed] = EdgeOnly; // EdgeOnly or StripWise

    numInvFemtobarns = 3000;
    operatingTemp = -20;
    referenceTemp = 20;
    chargeDepletionVoltage = 600;
    alphaParam = 4e-17;

    triggerProcessorsEta = 3;
    triggerProcessorsPhi = 4;
    triggerPtCut = 2;
    triggerEtaCut = 2.2;
}

Barrel TIB {
    nLayers = 3;
    //nModules = 26;
    maximumZ = 1150;
    compress = true;
    innerRadius = 230;
//    outerRadius = 524; // 509 or 540
    outerRadius = 508; // 509 or 540
    // outerRadius = 1080 ;
    size = 96x46.26; // PS module active area, corresponding to a sensor size of 98.74x49.16
    phiSegments = 2;
}

Barrel TOB {
    // Mandatory parameters
    nLayers = 3;
    nModules = 12;
    innerRadius = 686; // was 687
    //innerRadius = 699;
    outerRadius = 1080 ;
    //directive = 4/S;
    sameRods = true;
    compress = false;

    // Possible layers
    // 427 456 485 514 543 571 600 629 658 687 716 744 773 802 831 860 888 917 946 975 1004 1032 1061

    // Directives and options
    size = 91.44x100.5; // 2S module active area, corresponding to a sensor size of 94.183x102.7
    phiSegments = 2;
}

Endcap ENDCAP {
    // Mandatory parameters
    bigDelta = 16;
    smallDelta = 10;
    phiSegments = 2;
    nDisks = 7;
    // innerRadius = 278; // 222 is eta=2.5
    nRings = 14;
    outerRadius = 1095;
    barrelGap = 180.;  // wrt the biggest barrel already built = 120 mm for cables + 10+16+4 (Delta+delta+thickness)180.; // wrt the biggest barrel already built = 120 mm for cables + 10+16+4 (Delta+delta+thickness)
    maximumZ= 2650 ; 
    diskParity = 1;

    // Directives and options
    shape = rectangular; // aspectRatio = 1.0 ;
    size = 91.44x100.5;  // 2S module active area, corresponding to a sensor size of 94.183x102.7
    size[1] = 96x46.26;  // All the following are PS modules instead, corresponding to a sensor size of 98.74x49.16
    size[2] = 96x46.26;
    size[3] = 96x46.26;
    size[4] = 96x46.26;
    size[5] = 96x46.26;
    size[6] = 96x46.26;
    size[7] = 96x46.26;
    size[8] = 96x46.26;
}

Support {
    midZ = 290;
}

Pixels {
     nLayers = 4;
     nModules = 4;
     nDisks = 3;
     etaCut = 7.0;
     innerRadiusBarrel = 29;
     outerRadiusBarrel = 160;
     innerRadiusEndcap = 45;
     outerRadiusEndcap = 161;
     phiSegments = 4;
     barrelGap = 22.0;
     maximumZ = 491.0;
     diskParity = 1;
     bmSize = 20x70; //width by length // was: 20x75
     emSize = 30x59;
     //directive
     directive = 2/68;
     directive = 3/109;
     //option
}

