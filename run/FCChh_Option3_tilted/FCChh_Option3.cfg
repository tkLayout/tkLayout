@include SimParms

BeamPipe Pipe {

    radius         20.0   // mm
    thickness      1.0    // mm
    radLength      0.00286
    intLength      0.00236
}

Tracker Inner {

    // Beam parameters
    zError 0
    
    // Layout construction parameters
    bigDelta 5
    smallDelta 2.5
    zOverlap 0.0 //0.5
    phiOverlap 0.0 //0.5
    rOverlap 0.0 //0.5
    barrelRotation 1.5707963268 // Starts building modules from X=0, Ymax
    smallParity -1
    bigParity 1
    innerRadiusFixed true 
    outerRadiusFixed true
    //useMinMaxRCorrect false

    // Detector constraints
    etaCut 6

    trackingTags pixel,tracker
    
    Barrel BRL_0 {

      numLayers 3 
      radiusMode fixed
      //sameRods true
      
      Layer 1 {
       outerZ 685 //415 //380
       radius 25.0
       width 12.8
       length 68.5
       physicalLength 68.5 // 41.5
       bigDelta 1.0
       smallDelta 0.0
       zOverlap 0.0
       startZMode moduleedge
       moduleType pixelInner
       plotColor 2
       @include Pixel_BRL0_module0.cfg
       @include Pixel_material_innermost.cfg
       resolutionLocalX 0.0075
       resolutionLocalY 0.015
      }
      Layer 2 {
       outerZ 820
       radius 60.0
       width 25.6
       length 82.0
       physicalLength 82.0
       bigDelta 1.0
       smallDelta 0.0
       zOverlap 0.0
       moduleType pixelInner
       startZMode moduleedge
       plotColor 2
       @include Pixel_BRL0_module1.cfg
       @include Pixel_material_innermost.cfg
       resolutionLocalX 0.0075
       resolutionLocalY 0.015 
      }
      Layer 3 {
       outerZ 820
       radius 100.0
       width 25.6
       length 82.0
       physicalLength 82.0
       bigDelta 1.0
       smallDelta 0.0
       zOverlap 0.0
       moduleType pixelInner
       startZMode moduleedge
       plotColor 2
       @include Pixel_BRL0_module1.cfg
       @include Pixel_material_innermost.cfg
       resolutionLocalX 0.0075
       resolutionLocalY 0.015 
      }

      innerRadius 23.5 
      outerRadius 102.5
      phiSegments 2
    }

    Barrel BRL_1 {
      
      numLayers 3 
      sameRods true
      radiusMode fixed
      //startZMode moduleedge

      Layer 1 {
       radius 205
      }

      Layer 2 {
       radius 325
      }

      Layer 3 {
       radius 450
      }
       
      Layer 1-3 {
       outerZ 820
       width 51.2
       length 102.4
       physicalLength 102.4
       moduleType pixel
       plotColor 7
       @include Pixel_BRL1_module0.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.030
      }
      innerRadius 197.0
      outerRadius 460.0
      phiSegments 2
    }
    Endcap ECAP {
      //@includestd Conversions/flangeTEDD
      @include Pixel_Fwd_module.cfg
      @include Pixel_material.cfg
    
      phiSegments 4
      numDisks 5
      innerRadius 24
      outerRadius 450
      barrelGap 180
      outerZ 2250 
      alignEdges false
      moduleShape wedge
      moduleType pixel
      plotColor 7

      Disk 1-5 {
        Ring 1 {
          waferDiameter 86.2
          additionalModules 0
          resolutionLocalX 0.0075
          resolutionLocalY 0.015
          plotColor 5 
        }
        Ring 2 {
          waferDiameter 102.2
          additionalModules 2
          resolutionLocalX 0.0095
          resolutionLocalY 0.030
        }
        Ring 3 {
          waferDiameter 102.2
          additionalModules 3
          resolutionLocalX 0.0095
          resolutionLocalY 0.030
        }
        Ring 4 {
          waferDiameter 102.2
          additionalModules 4
          resolutionLocalX 0.0095
          resolutionLocalY 0.030
        }
        Ring 5 {
          waferDiameter 102.2
          additionalModules 5
          resolutionLocalX 0.0095
          resolutionLocalY 0.030
        }
      }
    }
}
Tracker Outer {

    // Beam parameters
    zError 0
    
    // Layout construction parameters
    bigDelta 5
    smallDelta 2.5
    zOverlap 0.5
    phiOverlap 0.5
    rOverlap 0.5
    barrelRotation 1.57079632679
    smallParity 1
    bigParity 1
    innerRadiusFixed true
    outerRadiusFixed true
    //useMinMaxRCorrect false
    plotColor 1
    
    // Detector constraints
    etaCut 6

        
    Barrel BRL {
      @include Strip_Outer_module.cfg
      @include Strip_material.cfg 
      numLayers 6 
      outerZ 2250
      startZMode modulecenter
      innerRadius 600
      outerRadius 1550 //1545
      sameRods true
      width 102.4
      length 102.4
      physicalLength 102.4
      phiSegments 2
      moduleType strip
      plotColor 1
      resolutionLocalX 0.0095
      resolutionLocalY 14.780 //0.100
    
      trackingTags strip,tracker
    }
    Endcap ECAP {
      //@includestd Conversions/flangeTEDD

      phiSegments 4
      numDisks 6
      innerRadius 25
      outerRadius 1545
      barrelGap 375
      outerZ 5000
      alignEdges false

      Ring 1 {
       moduleShape wedge
       moduleType pixel 
       plotColor 5
       
       trackingTags pixel,tracker       
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0075
       resolutionLocalY 0.015
      }
      Ring 2-6 {
       moduleShape wedge
       moduleType pixel 
       plotColor 7
       
       trackingTags pixel,tracker       
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.030
      }
      Ring 7-22 {
       moduleShape rectangular
       width 102.4
       length 108.4
       physicalLength 108.4
       moduleType strip
       plotColor 1

       trackingTags strip,tracker
       @include Strip_Fwd_module.cfg
       @include Strip_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 15.646 //0.100
     } 

      Ring 1 {
       waferDiameter 86.2
       additionalModules 0
      }
      Ring 2 {
       waferDiameter 113.0
       additionalModules 2
      }
      Ring 3 {
       waferDiameter 114.8
       additionalModules 3
      }
      Ring 4 {
       waferDiameter 112.6
       additionalModules 4
      }
      Ring 5 {
       waferDiameter 118.6
       additionalModules 5
      }
      Ring 6 {
       waferDiameter 113.7
       additionalModules 5
      }
    }
}

Tracker FwdHelp {

    // Beam parameters
    zError 0

    // Layout construction parameters
    bigDelta 5
    smallDelta 2.5
    zOverlap 0.5
    phiOverlap 0.5
    rOverlap 0.5
    barrelRotation 1.57079632679
    smallParity 1
    bigParity 1
    innerRadiusFixed true
    outerRadiusFixed true
    //useMinMaxRCorrect false
    plotColor 1

    // Detector constraints
    etaCut 6

    Endcap ECAP {
      //@includestd Conversions/flangeTEDD

      phiSegments 4
      numDisks 1
      innerRadius 40
      outerRadius 1100
      barrelGap 7500
      outerZ 7500
      alignEdges false

      Ring 1 {
       moduleShape wedge
       moduleType pixel
       plotColor 8

       trackingTags pixel,tracker
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.015

      }

      Ring 2-6 {
       moduleShape wedge
       moduleType pixel 
       plotColor 7
       
       trackingTags pixel,tracker       
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.030

      }
      Ring 7-20 {
       moduleShape rectangular
       width 102.4
       length 116.4
       physicalLength 116.4
       moduleType strip
       plotColor 1

       trackingTags strip,tracker
       @include Strip_Fwd_module.cfg
       @include Strip_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 16.800 //0.100
     } 

      Ring 1 {
       waferDiameter 86.2
       additionalModules 0
      }
      Ring 2 {
       waferDiameter 113.0
       additionalModules 2
      }
      Ring 3 {
       waferDiameter 114.8
       additionalModules 3
      }
      Ring 4 {
       waferDiameter 112.6
       additionalModules 4
      }
      Ring 5 {
       waferDiameter 118.6
       additionalModules 5
      }
      Ring 6 {
       waferDiameter 113.7
       additionalModules 5
      }
    }
}

Tracker Fwd {

    // Beam parameters
    zError 0

    // Layout construction parameters
    bigDelta 5
    smallDelta 2.5
    zOverlap 0.5
    phiOverlap 0.5
    rOverlap 0.5
    barrelRotation 1.57079632679
    smallParity 1
    bigParity 1
    innerRadiusFixed true
    outerRadiusFixed true
    //useMinMaxRCorrect false
    plotColor 1

    // Detector constraints
    etaCut 6

    Endcap ECAP {
      //@includestd Conversions/flangeTEDD

      phiSegments 4
      numDisks 6
      innerRadius 60
      outerRadius 1545 //1980
      barrelGap 10000 //12000
      outerZ 16000 //10900
      alignEdges false

      Ring 1 {
       moduleShape wedge
       moduleType pixel 
       plotColor 8
       
       trackingTags pixel,tracker       
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.015

      }
      Ring 2-6 {
       moduleShape wedge
       moduleType pixel 
       plotColor 7
       
       trackingTags pixel,tracker       
       @include Pixel_Fwd_module.cfg
       @include Pixel_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 0.030

      }
      Ring 7-24 {
       moduleShape rectangular
       width 102.4
       length 116.4
       physicalLength 116.4
       moduleType strip
       plotColor 1

       trackingTags strip,tracker
       @include Strip_Fwd_module.cfg
       @include Strip_material.cfg
       resolutionLocalX 0.0095
       resolutionLocalY 16.800 //0.100
     } 

      Ring 1 {
       waferDiameter 86.2
       additionalModules 0
      }
      Ring 2 {
       waferDiameter 113.0
       additionalModules 2
      }
      Ring 3 {
       waferDiameter 114.8
       additionalModules 3
      }
      Ring 4 {
       waferDiameter 112.6
       additionalModules 4
      }
      Ring 5 {
       waferDiameter 118.6
       additionalModules 5
      }
      Ring 6 {
       waferDiameter 113.7
       additionalModules 5
      }
    }
}
